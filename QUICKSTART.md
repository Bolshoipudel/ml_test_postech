# üöÄ Quick Start Guide - SQL Agent Ready!

## ‚úÖ –ß—Ç–æ —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

**–§–∞–∑–∞ 1: –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞** ‚úÖ
- FastAPI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- API endpoints
- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö PostgreSQL
- Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

**–§–∞–∑–∞ 3: SQL Agent** ‚úÖ (–ì–û–¢–û–í –ö –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ!)
- Natural Language to SQL –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ
- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ PostgreSQL
- Guardrails (—Ç–æ–ª—å–∫–æ SELECT –∑–∞–ø—Ä–æ—Å—ã)
- –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –Ω–∞ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–º —è–∑—ã–∫–µ
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å chat endpoint

## üì¶ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (Docker)

### 1. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ .env —Ñ–∞–π–ª

```bash
# –°–æ–∑–¥–∞–π—Ç–µ .env –∏–∑ –ø—Ä–∏–º–µ—Ä–∞
copy .env.example .env  # Windows
cp .env.example .env    # Linux/Mac
```

–û—Ç–∫—Ä–æ–π—Ç–µ `.env` –∏ –¥–æ–±–∞–≤—å—Ç–µ –≤–∞—à OpenAI API –∫–ª—é—á:
```env
OPENAI_API_KEY=sk-your-key-here
```

**–í–∞–∂–Ω–æ:** –î–ª—è —Ä–∞–±–æ—Ç—ã SQL Agent –Ω—É–∂–µ–Ω —Ç–æ–ª—å–∫–æ `OPENAI_API_KEY`. –û—Å—Ç–∞–ª—å–Ω–æ–µ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ.

### 2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å Docker

```bash
# Windows
docker-run.bat

# Linux/Mac
docker-compose up --build -d
```

–≠—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç:
- FastAPI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ http://localhost:8000
- PostgreSQL —Å —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏

### 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç

```bash
# Health check
curl http://localhost:8000/api/v1/health

# –¢–µ—Å—Ç–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å –∫ SQL Agent
curl -X POST http://localhost:8000/api/v1/chat \
  -H "Content-Type: application/json" \
  -d "{\"message\": \"–°–∫–æ–ª—å–∫–æ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –≤ –∫–æ–º–∞–Ω–¥–µ?\"}"
```

### 4. –û—Ç–∫—Ä–æ–π—Ç–µ Swagger UI

–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: http://localhost:8000/docs

–ó–¥–µ—Å—å –≤—ã –º–æ–∂–µ—Ç–µ:
- –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ endpoints
- –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å API –ø—Ä—è–º–æ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
- –£–≤–∏–¥–µ—Ç—å –ø—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤/–æ—Ç–≤–µ—Ç–æ–≤

## üß™ –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ SQL Agent

### –ß–µ—Ä–µ–∑ Swagger UI (—Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–±)

1. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:8000/docs
2. –ù–∞–π–¥–∏—Ç–µ `POST /api/v1/chat`
3. –ù–∞–∂–º–∏—Ç–µ "Try it out"
4. –í—Å—Ç–∞–≤—å—Ç–µ JSON:
```json
{
  "message": "–°–∫–æ–ª—å–∫–æ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–æ–≤ –æ—Ç–∫—Ä—ã—Ç–æ –¥–ª—è PT Application Inspector?",
  "use_history": false
}
```
5. –ù–∞–∂–º–∏—Ç–µ "Execute"

### –ß–µ—Ä–µ–∑ curl

**–í–æ–ø—Ä–æ—Å 1: –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∫–æ–º–∞–Ω–¥–µ**
```bash
curl -X POST http://localhost:8000/api/v1/chat \
  -H "Content-Type: application/json" \
  -d '{
    "message": "–°–∫–æ–ª—å–∫–æ —á–µ–ª–æ–≤–µ–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –æ—Ç–¥–µ–ª–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏?",
    "use_history": false
  }'
```

**–í–æ–ø—Ä–æ—Å 2: –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ–¥—É–∫—Ç–∞—Ö**
```bash
curl -X POST http://localhost:8000/api/v1/chat \
  -H "Content-Type: application/json" \
  -d '{
    "message": "–ö–∞–∫–∏–µ –ø—Ä–æ–¥—É–∫—Ç—ã –µ—Å—Ç—å –≤ –∫–æ–º–ø–∞–Ω–∏–∏?",
    "use_history": false
  }'
```

**–í–æ–ø—Ä–æ—Å 3: –ê–Ω–∞–ª–∏–∑ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–æ–≤**
```bash
curl -X POST http://localhost:8000/api/v1/chat \
  -H "Content-Type: application/json" \
  -d '{
    "message": "–ü–æ–∫–∞–∂–∏ –≤—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –±–∞–≥–∏ –∫–æ—Ç–æ—Ä—ã–µ —Å–µ–π—á–∞—Å –æ—Ç–∫—Ä—ã—Ç—ã",
    "use_history": false
  }'
```

**–í–æ–ø—Ä–æ—Å 4: –°—Ç–∞—Ç—É—Å —Ñ–∏—á**
```bash
curl -X POST http://localhost:8000/api/v1/chat \
  -H "Content-Type: application/json" \
  -d '{
    "message": "–ö—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞–¥ RAG-based Documentation Search?",
    "use_history": false
  }'
```

## üìä –ß—Ç–æ –µ—Å—Ç—å –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

–ë–∞–∑–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã Positive Technologies:

- **6 –æ—Ç–¥–µ–ª–æ–≤**: Development, Research, QA, Product Management, DevOps, Documentation
- **5 –ø—Ä–æ–¥—É–∫—Ç–æ–≤**: PT AI, PT NAD, PT Sandbox, PT MultiScanner, PT ISIM
- **12 —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤** —Å —Ä–∞–∑–Ω—ã–º–∏ –Ω–∞–≤—ã–∫–∞–º–∏ –∏ –ø–æ–∑–∏—Ü–∏—è–º–∏
- **8 —Ñ–∏—á –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ**: RAG search, LLM integration, Threat Intelligence, –∏ –¥—Ä.
- **8 –∏–Ω—Ü–∏–¥–µ–Ω—Ç–æ–≤**: –æ—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –¥–æ low priority

## üîç –ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –¥–ª—è SQL Agent

SQL Agent –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤:
- **—Å–∫–æ–ª—å–∫–æ**, **–∫—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç**, **–∫–æ–º–∞–Ω–¥–∞**, **—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫**
- **–∏–Ω—Ü–∏–¥–µ–Ω—Ç**, **–±–∞–≥**, **–ø—Ä–æ–¥—É–∫—Ç**, **–æ—Ç–¥–µ–ª**
- **—Ñ–∏—á–∞**, **feature**

–ü—Ä–∏–º–µ—Ä—ã:
- ‚úÖ "–°–∫–æ–ª—å–∫–æ –±–∞–≥–æ–≤ –æ—Ç–∫—Ä—ã—Ç–æ?" ‚Üí SQL Agent
- ‚úÖ "–ö—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞–¥ PT AI?" ‚Üí SQL Agent
- ‚ùå "–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç LangChain?" ‚Üí –±—É–¥–µ—Ç RAG (–∫–æ–≥–¥–∞ —Ä–µ–∞–ª–∏–∑—É–µ–º)

## üõ†Ô∏è –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ (–±–µ–∑ Docker)

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Python 3.11+
- PostgreSQL 15+

### –®–∞–≥–∏

1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ PostgreSQL** –∏ —Å–æ–∑–¥–∞–π—Ç–µ –ë–î:
```sql
CREATE DATABASE llm_assistant_db;
CREATE USER llm_assistant WITH PASSWORD 'secure_password';
GRANT ALL PRIVILEGES ON DATABASE llm_assistant_db TO llm_assistant;
```

2. **–ü—Ä–∏–º–µ–Ω–∏—Ç–µ —Å—Ö–µ–º—É**:
```bash
psql -U llm_assistant -d llm_assistant_db -f data/sql/01_schema.sql
psql -U llm_assistant -d llm_assistant_db -f data/sql/02_sample_data.sql
```

3. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**:
```bash
python -m venv venv
venv\Scripts\activate  # Windows
pip install -r requirements.txt
```

4. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ .env**:
```env
OPENAI_API_KEY=sk-your-key-here
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_USER=llm_assistant
POSTGRES_PASSWORD=secure_password
POSTGRES_DB=llm_assistant_db
```

5. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**:
```bash
python -m app.main
```

## üêõ Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: "Failed to connect to database"

**–†–µ—à–µ–Ω–∏–µ:**
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ PostgreSQL –∑–∞–ø—É—â–µ–Ω
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ credentials –≤ `.env`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ë–î —Å–æ–∑–¥–∞–Ω–∞ –∏ —Å—Ö–µ–º–∞ –ø—Ä–∏–º–µ–Ω–µ–Ω–∞

### –ü—Ä–æ–±–ª–µ–º–∞: "OPENAI_API_KEY is not set"

**–†–µ—à–µ–Ω–∏–µ:**
1. –°–æ–∑–¥–∞–π—Ç–µ `.env` —Ñ–∞–π–ª –∏–∑ `.env.example`
2. –î–æ–±–∞–≤—å—Ç–µ –≤–∞—à OpenAI API –∫–ª—é—á
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

### –ü—Ä–æ–±–ª–µ–º–∞: SQL Agent –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫—É "Operation DELETE is not allowed"

**–†–µ—à–µ–Ω–∏–µ:**
–≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ! Guardrails –±–ª–æ–∫–∏—Ä—É—é—Ç –æ–ø–∞—Å–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏. SQL Agent –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ç–æ–ª—å–∫–æ SELECT –∑–∞–ø—Ä–æ—Å—ã –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–∏–∑–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ SQL –∑–∞–ø—Ä–æ—Å–æ–≤

**–†–µ—à–µ–Ω–∏–µ:**
1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–æ–ª–µ–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã
2. –£–∫–∞–∂–∏—Ç–µ –∏–º–µ–Ω–∞ —Ç–∞–±–ª–∏—Ü/–ø–æ–ª–µ–π –∏–∑ —Å—Ö–µ–º—ã
3. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–µ—Ä–µ—Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∞—Ç—å –≤–æ–ø—Ä–æ—Å

## üìù –õ–æ–≥–∏ –∏ –æ—Ç–ª–∞–¥–∫–∞

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ (Docker)
```bash
docker-compose logs -f app
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –ë–î
```bash
docker-compose logs -f postgres
```

### –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
```bash
docker exec -it llm-assistant-postgres psql -U llm_assistant -d llm_assistant_db
```

–ü–æ–ª–µ–∑–Ω—ã–µ SQL –∫–æ–º–∞–Ω–¥—ã:
```sql
-- –°–ø–∏—Å–æ–∫ —Ç–∞–±–ª–∏—Ü
\dt

-- –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü—ã
\d team_members

-- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π
SELECT COUNT(*) FROM team_members;

-- –í—Å–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏
SELECT first_name, last_name, position FROM team_members;
```

## ‚è≠Ô∏è –ß—Ç–æ –¥–∞–ª—å—à–µ?

**–§–∞–∑–∞ 2: RAG —Å–∏—Å—Ç–µ–º–∞** (—Å–ª–µ–¥—É—é—â–∞—è)
- –ó–∞–≥—Ä—É–∑–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- ChromaDB –¥–ª—è –≤–µ–∫—Ç–æ—Ä–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞
- RAG Agent –¥–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤ –æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

**–§–∞–∑–∞ 4: Web Search**
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Tavily
- –ü–æ–∏—Å–∫ –∞–∫—Ç—É–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

**–§–∞–∑–∞ 5: Router Agent**
- –£–º–Ω—ã–π –≤—ã–±–æ—Ä –º–µ–∂–¥—É RAG, SQL, Web Search
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã

- [SQL_AGENT_EXAMPLES.md](SQL_AGENT_EXAMPLES.md) - –ë–æ–ª—å—à–µ –ø—Ä–∏–º–µ—Ä–æ–≤ SQL –∑–∞–ø—Ä–æ—Å–æ–≤
- [README.md](README.md) - –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
- http://localhost:8000/docs - Swagger UI
- http://localhost:8000/redoc - ReDoc –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## üí° –ü–æ–ª–µ–∑–Ω—ã–µ —Å–æ–≤–µ—Ç—ã

1. **–ù–∞—á–Ω–∏—Ç–µ —Å –ø—Ä–æ—Å—Ç—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤** –∏ –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ —É—Å–ª–æ–∂–Ω—è–π—Ç–µ
2. **–ò–∑—É—á–∏—Ç–µ —Å—Ö–µ–º—É –ë–î** –≤ —Ñ–∞–π–ª–µ `data/sql/01_schema.sql`
3. **–°–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞ generated SQL** –≤ –æ—Ç–≤–µ—Ç–∞—Ö, —á—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–≥–µ–Ω—Ç
4. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Swagger UI** –¥–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
5. **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ª–æ–≥–∏** –ø—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º

---

**–ì–æ—Ç–æ–≤–æ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é!** üéâ

–ó–∞–ø—É—Å—Ç–∏—Ç–µ Docker –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –∑–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö!
